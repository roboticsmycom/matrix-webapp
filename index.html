<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Матрица Звёзд</title>
    <style>
        body { margin: 0; background: #f0f0f0; display: flex; justify-content: center; align-items: center; height: 100vh; font-family: Arial; }
        svg { width: 90vw; height: 90vh; max-width: 500px; max-height: 500px; }
        .cell { stroke: black; stroke-width: 1; fill: white; }
        .text { font-size: 12px; text-anchor: middle; dominant-baseline: central; fill: black; }
        .win { fill: green; }
        .current-loss { fill: red; animation: pulse 1s ease-in-out; }
        .current-win { fill: gold; animation: glow 1s ease-in-out infinite alternate; }
        @keyframes pulse { 0% { opacity: 0.5; } 100% { opacity: 1; } }
        @keyframes glow { 0% { fill: gold; } 100% { fill: yellow; } }
    </style>
</head>
<body>
    <div id="svg-container"></div>
    <script>
        // Получаем параметры из URL
        const params = new URLSearchParams(window.location.search);
        const currentRow = parseInt(params.get('row')) - 1; // 0-based
        const currentCol = parseInt(params.get('col')) - 1;
        const isWin = params.get('is_win') === 'true';  // 'true' как string

        // Создаём SVG элемент
        const svgNS = "http://www.w3.org/2000/svg";
        const svg = document.createElementNS(svgNS, "svg");
        svg.setAttribute("viewBox", "0 0 100 100");

        // Рисуем матрицу
        for (let i = 0; i < 10; i++) {
            for (let j = 0; j < 10; j++) {
                let x = j * 10;
                let y = i * 10;
                let className = 'cell';
                if (i === j) className += ' win';
                if (i === currentRow && j === currentCol) className += isWin ? ' current-win' : ' current-loss';

                // Rect для ячейки
                const rect = document.createElementNS(svgNS, "rect");
                rect.setAttribute("x", x);
                rect.setAttribute("y", y);
                rect.setAttribute("width", 10);
                rect.setAttribute("height", 10);
                rect.setAttribute("class", className);
                svg.appendChild(rect);

                // Текст
                const text = document.createElementNS(svgNS, "text");
                text.setAttribute("x", x + 5);
                text.setAttribute("y", y + 5);
                text.setAttribute("class", "text");
                text.textContent = `${i+1}/${j+1}`;
                svg.appendChild(text);
            }
        }

        // Добавляем SVG в контейнер
        document.getElementById("svg-container").appendChild(svg);
    </script>
</body>
</html>